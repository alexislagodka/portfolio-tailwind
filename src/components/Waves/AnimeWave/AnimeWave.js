import React, { useEffect } from 'react'
import PropTypes from 'prop-types'
import anime from 'animejs'

export default function AnimeWave ({ color }) {
  const wave1 = 'M0,160L48,181.3C96,203,192,245,288,256C384,267,480,245,576,229.3C672,213,768,203,864,202.7C960,203,1056,213,1152,224C1248,235,1344,245,1392,250.7L1440,256L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'
  const wave2 = 'M0,224L48,213.3C96,203,192,181,288,170.7C384,160,480,160,576,138.7C672,117,768,75,864,90.7C960,107,1056,181,1152,213.3C1248,245,1344,235,1392,229.3L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'
  const wave3 = 'M0,96L48,106.7C96,117,192,139,288,165.3C384,192,480,224,576,229.3C672,235,768,213,864,218.7C960,224,1056,256,1152,272C1248,288,1344,288,1392,288L1440,288L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'
  const wave4 = 'M0,224L48,192C96,160,192,96,288,74.7C384,53,480,75,576,96C672,117,768,139,864,144C960,149,1056,139,1152,138.7C1248,139,1344,149,1392,154.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'

  useEffect(() => {
    anime({
      targets: '.wave-top > path',
      easing: 'linear',
      duration: 75000,
      loop: true,
      d: [
        { value: [wave1, wave2] },
        { value: wave3 },
        { value: wave4 },
        { value: wave1 }
      ]
    })
  }, [])

  return (
    <svg className='w-full wave-top' width='100' viewBox='0 0 1440 320'>
      <path fill={color} fillOpacity='1' d='M0,192L48,186.7C96,181,192,171,288,170.7C384,171,480,181,576,176C672,171,768,149,864,144C960,139,1056,149,1152,128C1248,107,1344,53,1392,26.7L1440,0L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z' />
    </svg>
  )
}

AnimeWave.propTypes = {
  color: PropTypes.string
}
